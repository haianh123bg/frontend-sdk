"use strict";const t=require("./jsx-runtime-BYECrxsp.cjs"),Tt=require("react"),n=require("./bundle-mjs-jYufibJ6.cjs"),F=require("./types-BiGI-P88.cjs"),Z=require("./createLucideIcon-DlNAkzTz.cjs"),vt=require("./Icon-CBip1fSL.cjs"),dt=require("./chevron-left-Ch1qR8f7.cjs");function $t(i){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(i){for(const o in i)if(o!=="default"){const c=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}return r.default=i,Object.freeze(r)}const a=$t(Tt),Et=a.forwardRef(({className:i,variant:r="primary",size:o="md",fullWidth:c,isLoading:l,icon:p,onClick:u,children:f,...y},x)=>{const R=F.useDispatchAction(),L="inline-flex items-center justify-center rounded-full font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:pointer-events-none disabled:opacity-50",S={primary:"bg-primary-500 text-white hover:bg-primary-600 active:bg-primary-700",secondary:"bg-surface-alt text-text-primary hover:bg-slate-200 active:bg-slate-300",ghost:"hover:bg-slate-100 text-text-secondary hover:text-text-primary",danger:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700"},_={sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm",lg:"h-12 px-8 text-base"},b=I=>{R(F.EventType.UI_CLICK,{component:"Button",variant:r},{meta:{component:"Button"}}),u==null||u(I)};return t.jsxRuntimeExports.jsxs("button",{ref:x,className:n.twMerge(n.clsx(L,S[r],_[o],c&&"w-full",i)),onClick:b,...y,children:[l&&t.jsxRuntimeExports.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),p&&t.jsxRuntimeExports.jsx("span",{className:n.clsx("inline-flex shrink-0",f?"mr-2":void 0),children:p}),f]})});Et.displayName="Button";const Rt=a.forwardRef(({className:i,type:r,error:o,fullWidth:c=!0,onChange:l,onBlur:p,...u},f)=>{const y=F.useDispatchAction(),x=R=>{y(F.EventType.UI_CHANGE,{value:R.target.value},{meta:{component:"Input",type:r},flags:{sensitive:r==="password"||r==="email"}}),l==null||l(R)};return t.jsxRuntimeExports.jsx("input",{ref:f,type:r,className:n.twMerge(n.clsx("flex h-10 w-full rounded-xl bg-surface-alt px-3 py-2 text-sm placeholder:text-text-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500","disabled:cursor-not-allowed disabled:opacity-50","transition-all duration-200",o&&"ring-2 ring-red-500 focus-visible:ring-red-500",c?"w-full":"w-auto",i)),onChange:x,onBlur:p,...u})});Rt.displayName="Input";const Nt=a.forwardRef(({className:i,label:r,error:o,variant:c="primary",indeterminate:l,onChange:p,id:u,checked:f,...y},x)=>{const R=F.useDispatchAction(),L=a.useId(),S=u||L,_=a.useRef(null),b=f!==void 0?{checked:f}:{};a.useEffect(()=>{_.current&&(_.current.indeterminate=!!l)},[l]);const I=k=>{if(_.current=k,!!x){if(typeof x=="function"){x(k);return}x.current=k}},C=k=>{R(F.EventType.UI_CHANGE,{checked:k.target.checked,value:k.target.value},{meta:{component:"Checkbox"}}),p==null||p(k)},A=o?"accent-red-500 focus-visible:ring-red-500":{primary:"accent-primary-500 focus-visible:ring-primary-500",success:"accent-green-500 focus-visible:ring-green-500",warning:"accent-amber-500 focus-visible:ring-amber-500",danger:"accent-red-500 focus-visible:ring-red-500",info:"accent-blue-500 focus-visible:ring-blue-500"}[c];return c==="primary"?t.jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:t.jsxRuntimeExports.jsxs("label",{htmlFor:S,className:"flex items-center gap-2 cursor-pointer select-none",children:[t.jsxRuntimeExports.jsxs("span",{className:"relative inline-flex items-center justify-center",children:[t.jsxRuntimeExports.jsx("input",{ref:I,type:"checkbox",id:S,className:n.twMerge(n.clsx("peer sr-only","focus-visible:outline-none","disabled:cursor-not-allowed disabled:opacity-50",i)),onChange:C,...b,...y}),t.jsxRuntimeExports.jsx("span",{className:n.clsx("h-4 w-4 rounded border border-slate-300 bg-surface-alt","transition-all duration-200","peer-checked:bg-[linear-gradient(135deg,#0EA5E9,#0284C7)]","peer-checked:border-transparent",l&&"bg-[linear-gradient(135deg,#0EA5E9,#0284C7)] border-transparent","peer-focus-visible:ring-2 peer-focus-visible:ring-offset-2 peer-focus-visible:ring-primary-500","peer-disabled:opacity-50 peer-disabled:cursor-not-allowed",o&&"border-red-500")}),t.jsxRuntimeExports.jsx("svg",{viewBox:"0 0 16 16",className:n.clsx("pointer-events-none absolute h-3 w-3 text-white opacity-0 transition-opacity duration-150","peer-checked:opacity-100",l&&"opacity-100"),"aria-hidden":"true",children:l?t.jsxRuntimeExports.jsx("line",{x1:"4",y1:"8",x2:"12",y2:"8",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}):t.jsxRuntimeExports.jsx("polyline",{points:"3.5 8.5 6.5 11.5 12.5 4.5",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&t.jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-text-primary",children:r})]})}):t.jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxRuntimeExports.jsx("input",{ref:I,type:"checkbox",id:S,className:n.twMerge(n.clsx("h-4 w-4 cursor-pointer rounded bg-surface-alt border border-slate-300","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all duration-200",A,o&&"border-red-500",i)),onChange:C,...b,...y}),r&&t.jsxRuntimeExports.jsx("label",{htmlFor:S,className:"cursor-pointer text-sm font-medium text-text-primary select-none",children:r})]})});Nt.displayName="Checkbox";const V=a.forwardRef(({className:i,autoHide:r=!1,direction:o="vertical",children:c,...l},p)=>{const u=o==="vertical"?"overflow-y-auto overflow-x-hidden":o==="horizontal"?"overflow-x-auto overflow-y-hidden":"overflow-auto",f=r?"[scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden":"",y=x=>{o==="horizontal"&&x.currentTarget&&x.deltaY!==0&&(x.preventDefault(),x.currentTarget.scrollLeft+=x.deltaY)};return t.jsxRuntimeExports.jsx("div",{ref:p,className:n.twMerge(n.clsx("relative",u,f,i)),onWheel:y,...l,children:c})});V.displayName="Scroll";const kt=a.forwardRef(({className:i,options:r,placeholder:o,error:c,fullWidth:l=!0,disabled:p=!1,value:u,defaultValue:f="",compact:y=!1,hideCaret:x=!1,mode:R,variant:L="filled",dropdownPlacement:S="bottom",autoOpen:_=!1,dropdownScrollProps:b,onValueChange:I,name:C,id:z,onChange:A,...k},tt)=>{const X=F.useDispatchAction(),[h,B]=a.useState(!1),[T,w]=a.useState(f),D=a.useRef(null),j=u??T,E=r.find(g=>g.value===j),N=R??L,M=(b==null?void 0:b.autoHide)??!0,$=b==null?void 0:b.className,{autoHide:Y,className:K,...P}=b??{},U=g=>{p||(u===void 0&&w(g),X(F.EventType.UI_CHANGE,{value:g},{meta:{component:"Select"}}),A&&A({target:{value:g,name:C}}),I==null||I(g),B(!1))};return a.useEffect(()=>{if(!h)return;const g=H=>{D.current&&(D.current.contains(H.target)||B(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[h]),a.useEffect(()=>{_&&!h&&!p&&B(!0)},[_,h,p]),t.jsxRuntimeExports.jsxs("div",{ref:D,className:n.twMerge(n.clsx("relative text-sm",l?"w-full":"w-auto",p&&"opacity-60 cursor-not-allowed",i)),children:[t.jsxRuntimeExports.jsx("input",{ref:tt,type:"hidden",name:C,id:z??C,value:j??"",...k}),t.jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>!p&&B(g=>!g),className:n.twMerge(n.clsx("flex w-full items-center justify-between",N==="filled"&&"rounded-xl bg-surface-alt px-3 py-2",N==="ghost"&&"rounded-lg bg-transparent px-1 py-1 hover:bg-slate-50","text-left","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-100","transition-all duration-200",!p&&"cursor-pointer",c&&"bg-red-50 text-red-700 focus-visible:ring-red-100",y&&N==="filled"&&"h-8 rounded-lg px-2 text-xs",y&&N==="ghost"&&"h-7 text-xs")),children:[t.jsxRuntimeExports.jsx("span",{className:n.clsx("truncate",!E&&"text-text-muted"),children:(E==null?void 0:E.label)??o??"Select..."}),!x&&t.jsxRuntimeExports.jsx("span",{className:n.clsx("ml-2 text-xs text-text-muted transition-transform",h&&"rotate-180"),children:"▼"})]}),h&&!p&&t.jsxRuntimeExports.jsx("div",{className:n.twMerge(n.clsx("absolute z-50 rounded-xl bg-surface shadow-lg outline-none overflow-hidden",S==="top"?"bottom-full mb-1":"mt-1","min-w-full w-max max-w-[min(420px,calc(100vw-24px))]")),children:t.jsxRuntimeExports.jsx(V,{direction:"vertical",autoHide:M,className:n.twMerge("max-h-60 py-1 text-sm",$),...P,children:t.jsxRuntimeExports.jsxs("ul",{children:[o&&t.jsxRuntimeExports.jsx("li",{className:"px-3 py-2 text-text-muted",children:o}),r.map(g=>{const H=g.value===j;return t.jsxRuntimeExports.jsx("li",{children:t.jsxRuntimeExports.jsx("button",{type:"button",disabled:g.disabled,onClick:()=>U(g.value),className:n.twMerge(n.clsx("flex w-full items-center justify-between px-3 py-2 text-left","transition-colors",!g.disabled&&"hover:bg-slate-50 cursor-pointer",g.disabled&&"cursor-not-allowed text-text-muted",H&&"bg-primary-50")),children:t.jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap",children:g.label})})},g.value)})]})})})]})});kt.displayName="Select";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dt=Z.createLucideIcon("calendar",Ft);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],At=Z.createLucideIcon("clock",_t),jt=i=>{if(!i)return"";const[r,o,c]=i.split("-").map(Number);return!r||!o||!c?i:`${String(c).padStart(2,"0")}/${String(o).padStart(2,"0")}/${r}`},Mt=(i,r,o)=>{if(!i||!r||!o||r<1||r>12)return!1;const c=new Date(i,r,0).getDate();return!(o<1||o>c)},it=i=>{if(!i)return;const[r,o,c]=i.split("-").map(Number);if(!Mt(r,o,c))return;const l=new Date(r,o-1,c);if(!(l.getFullYear()!==r||l.getMonth()!==o-1||l.getDate()!==c))return l},yt=i=>{const r=i.trim();if(r){if(/^\d{4}-\d{2}-\d{2}$/.test(r))return it(r);if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(r)){const[o,c,l]=r.split("/").map(Number);if(!Mt(l,c,o))return;const p=new Date(l,c-1,o);return p.getFullYear()!==l||p.getMonth()!==c-1||p.getDate()!==o?void 0:p}}},Ht=i=>{const r=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0");return`${r}-${o}-${c}`},Lt=(i,r)=>new Date(i,r+1,0).getDate(),zt=(i,r)=>(new Date(i,r,1).getDay()+6)%7,St=a.forwardRef(({className:i,error:r,fullWidth:o=!0,placeholder:c="dd/mm/yyyy",value:l,defaultValue:p,disabled:u,onValueChange:f,autoOpen:y=!1,inline:x=!1,name:R,id:L,locale:S="vi-VN",weekdayLabels:_=["M","T","W","T","F","S","S"],monthLabelFormatter:b,onChange:I,...C},z)=>{const A=F.useDispatchAction(),k=l!==void 0,[tt,X]=a.useState(p),h=k?l:tt,B=it(h)??new Date,[T,w]=a.useState(B.getFullYear()),[D,j]=a.useState(B.getMonth()),[E,N]=a.useState("day"),[M,$]=a.useState(x),[Y,K]=a.useState(h?jt(h):""),P=a.useRef(null),U=a.useRef(null);a.useEffect(()=>{K(h?jt(h):"")},[h]),a.useEffect(()=>{const s=it(h);s&&(w(s.getFullYear()),j(s.getMonth()))},[h]),a.useEffect(()=>{if(!M)return;const s=yt(Y)??it(h);s&&(w(s.getFullYear()),j(s.getMonth()))},[M,Y,h]),a.useEffect(()=>{if(!M||x)return;const s=d=>{P.current&&(P.current.contains(d.target)||$(!1))};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[M,x]),a.useEffect(()=>{x||y&&!M&&!u&&$(!0)},[y,M,u,x]);const g=s=>{const d=Ht(s);k||X(d),A(F.EventType.UI_CHANGE,{date:d},{meta:{component:"DatePicker"}}),I&&I({target:{value:d,name:R}}),f==null||f(d),x||$(!1)},H=s=>{if(u)return;const d=new Date(T,D,s);g(d)},et=s=>{if(u)return;let v=s.target.value.replace(/[^0-9]/g,"");v.length>2&&(v=`${v.slice(0,2)}/${v.slice(2)}`),v.length>5&&(v=`${v.slice(0,5)}/${v.slice(5,9)}`),v.length>10&&(v=v.slice(0,10)),K(v)},J=()=>{if(u)return;const s=yt(Y);s?g(s):K(h?jt(h):"")},mt=s=>{var v;const d=s.relatedTarget;d&&((v=U.current)!=null&&v.contains(d))||J()},pt=s=>{s.key==="Enter"&&(s.preventDefault(),J(),$(!1))},at=()=>{if(E==="day"){const s=D-1;s<0?(j(11),w(d=>d-1)):j(s)}else w(E==="month"?s=>s-1:s=>s-12)},ft=()=>{if(E==="day"){const s=D+1;s>11?(j(0),w(d=>d+1)):j(s)}else w(E==="month"?s=>s+1:s=>s+12)},ct=Lt(T,D),lt=zt(T,D),Q=yt(Y)??it(h),st=[];let O=1-lt;for(;O<=ct;){const s=[];for(let d=0;d<7;d++)O<1||O>ct?s.push(null):s.push(O),O++;st.push(s)}const G=a.useMemo(()=>new Intl.DateTimeFormat(S,{month:"long"}),[S]),rt=a.useCallback((s,d)=>b?b(s,d):G.format(new Date(s,d,1)),[G,b]),nt=rt(T,D),ht=Array.from({length:12},(s,d)=>({index:d,label:rt(T,d)})),ut=T-50,xt=T+49,gt=Array.from({length:xt-ut+1},(s,d)=>ut+d);return t.jsxRuntimeExports.jsxs("div",{ref:P,className:n.twMerge(n.clsx("relative text-sm",o?"w-full":"inline-block w-auto",u&&"opacity-60 cursor-not-allowed",i)),children:[t.jsxRuntimeExports.jsx("input",{ref:z,type:"hidden",name:R,id:L??R,value:h??"",...C}),!x&&t.jsxRuntimeExports.jsxs("div",{className:n.twMerge(n.clsx("flex h-10 items-center justify-between rounded-xl bg-surface-alt px-3 py-2",o?"w-full":"w-auto","text-left","focus-within:outline-none focus-within:ring-2 focus-within:ring-primary-100","transition-all duration-200",!u&&"cursor-text",u&&"cursor-not-allowed",r&&"bg-red-50 text-red-700 focus-within:ring-red-100")),onClick:()=>{u||$(!0)},children:[t.jsxRuntimeExports.jsx("input",{type:"text",disabled:u,value:Y,onChange:et,onBlur:mt,onKeyDown:pt,placeholder:c,className:n.twMerge(n.clsx("flex-1 bg-transparent text-sm","outline-none border-none",!h&&"text-text-muted"))}),t.jsxRuntimeExports.jsx(vt.Icon,{icon:Dt,variant:"muted",size:"sm",className:n.clsx("ml-2 transition-transform",M&&"rotate-180")})]}),(M||x)&&!u&&t.jsxRuntimeExports.jsxs("div",{ref:U,onMouseDown:s=>{var d;(d=s.target)!=null&&d.closest("button")&&s.preventDefault()},className:n.twMerge(n.clsx(x?"relative w-full rounded-xl bg-transparent shadow-none outline-none":"absolute left-0 z-50 mt-1 w-full rounded-xl bg-surface shadow-lg outline-none","max-h-[80vh] overflow-hidden sm:min-w-[240px] sm:max-w-xs")),children:[t.jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 pt-2 text-xs text-text-muted",children:[t.jsxRuntimeExports.jsx(Z.IconButton,{icon:dt.ChevronLeft,size:"xs",variant:"muted",onClick:at}),t.jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsxRuntimeExports.jsx("button",{type:"button",className:"rounded px-2 py-1 text-text hover:bg-slate-50",onClick:()=>N(s=>s==="month"?"day":"month"),children:nt}),t.jsxRuntimeExports.jsx("button",{type:"button",className:"rounded px-2 py-1 text-text-muted hover:bg-slate-50",onClick:()=>N(s=>s==="year"?"day":"year"),children:T})]}),t.jsxRuntimeExports.jsx(Z.IconButton,{icon:dt.ChevronRight,size:"xs",variant:"muted",onClick:ft})]}),t.jsxRuntimeExports.jsxs("div",{className:"px-3 pb-2 pt-1 text-[11px] text-text-muted",children:[E==="day"&&t.jsxRuntimeExports.jsxs(t.jsxRuntimeExports.Fragment,{children:[t.jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 justify-items-center",children:_.map((s,d)=>t.jsxRuntimeExports.jsx("div",{className:"h-8 w-8 flex items-center justify-center text-xs font-semibold text-text-muted",children:s},d))}),t.jsxRuntimeExports.jsx("div",{className:"mt-1 grid grid-cols-7 text-xs justify-items-center",children:st.map((s,d)=>t.jsxRuntimeExports.jsx(a.Fragment,{children:s.map((v,e)=>{if(!v)return t.jsxRuntimeExports.jsx("div",{className:"h-8 w-8"},e);const m=Q&&Q.getFullYear()===T&&Q.getMonth()===D&&Q.getDate()===v;return t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>H(v),className:n.twMerge(n.clsx("flex h-7 w-7 items-center justify-center rounded-full text-text","transition-colors","hover:bg-slate-50",m&&"bg-primary-500 text-white hover:bg-primary-500")),children:v},e)})},d))})]}),E==="month"&&t.jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 pt-1 text-xs text-text",children:ht.map(s=>{const d=s.index===D;return t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{j(s.index),N("day")},className:n.twMerge(n.clsx("rounded-lg px-2 py-2 text-center transition-colors hover:bg-slate-50",d&&"bg-primary-500 text-white hover:bg-primary-500")),children:s.label},s.index)})}),E==="year"&&t.jsxRuntimeExports.jsx(V,{autoHide:!0,direction:"vertical",className:"max-h-56 pt-1 text-xs text-text",children:t.jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 pr-1",children:gt.map(s=>{const d=s===T;return t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{w(s),N("day")},className:n.twMerge(n.clsx("rounded-lg px-2 py-2 text-center transition-colors hover:bg-slate-50",d&&"bg-primary-500 text-white hover:bg-primary-500")),children:s},s)})})})]})]})]})});St.displayName="DatePicker";const ot=i=>{if(!i)return;const[r,o]=i.split(" ");if(!r)return;const[c,l,p]=r.split("-").map(Number);if(!c||!l||!p)return;let u=0,f=0;if(o){const[y,x]=o.split(":").map(Number);u=Number.isFinite(y)?y:0,f=Number.isFinite(x)?x:0}return new Date(c,l-1,p,u,f)},wt=i=>{const r=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),l=String(i.getHours()).padStart(2,"0"),p=String(i.getMinutes()).padStart(2,"0");return`${r}-${o}-${c} ${l}:${p}`},Yt=i=>{const r=ot(i);if(!r)return"";const o=String(r.getDate()).padStart(2,"0"),c=String(r.getMonth()+1).padStart(2,"0"),l=r.getFullYear(),p=String(r.getHours()).padStart(2,"0"),u=String(r.getMinutes()).padStart(2,"0");return`${o}/${c}/${l} ${p}:${u}`},Ot=(i,r)=>new Date(i,r+1,0).getDate(),Bt=(i,r)=>(new Date(i,r,1).getDay()+6)%7,It=a.forwardRef(({className:i,error:r,fullWidth:o=!0,placeholder:c="dd/mm/yyyy hh:mm",value:l,defaultValue:p,disabled:u,onValueChange:f,autoOpen:y=!1,inline:x=!1,name:R,id:L,locale:S="vi-VN",weekdayLabels:_=["M","T","W","T","F","S","S"],monthLabelFormatter:b,hourLabel:I="Giờ",minuteLabel:C="Phút",onChange:z,type:A,...k},tt)=>{const X=F.useDispatchAction(),h=l!==void 0,[B,T]=a.useState(p),w=h?l:B,D=ot(w)??new Date,[j,E]=a.useState(D.getFullYear()),[N,M]=a.useState(D.getMonth()),[$,Y]=a.useState("day"),[K,P]=a.useState(D.getHours()),[U,g]=a.useState(D.getMinutes()),[H,et]=a.useState(x),J=a.useRef(null);a.useEffect(()=>{if(!H||x)return;const e=m=>{J.current&&(J.current.contains(m.target)||et(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[H,x]),a.useEffect(()=>{x||y&&!H&&!u&&et(!0)},[y,H,u,x]),a.useEffect(()=>{const e=ot(w);e&&(E(e.getFullYear()),M(e.getMonth()),P(e.getHours()),g(e.getMinutes()))},[w]);const mt=e=>{e.setHours(K),e.setMinutes(U);const m=wt(e);h||T(m),X(F.EventType.UI_CHANGE,{datetime:m},{meta:{component:"DatetimePicker"}}),z&&z({target:{value:m,name:R}}),f==null||f(m)},pt=e=>{if(u)return;const m=new Date(j,N,e);mt(m)},at=(e,m)=>{if(u)return;P(e),g(m);const q=ot(w)??new Date(j,N,1);q.setHours(e),q.setMinutes(m);const W=wt(q);h||T(W),X(F.EventType.UI_CHANGE,{datetime:W},{meta:{component:"DatetimePicker"}}),z&&z({target:{value:W,name:R}}),f==null||f(W)},ft=()=>{if($==="day"){const e=N-1;e<0?(M(11),E(m=>m-1)):M(e)}else E($==="month"?e=>e-1:e=>e-12)},ct=()=>{if($==="day"){const e=N+1;e>11?(M(0),E(m=>m+1)):M(e)}else E($==="month"?e=>e+1:e=>e+12)},lt=Ot(j,N),Q=Bt(j,N),st=[];let O=1-Q;for(;O<=lt;){const e=[];for(let m=0;m<7;m++)O<1||O>lt?e.push(null):e.push(O),O++;st.push(e)}const G=ot(w),rt=a.useMemo(()=>new Intl.DateTimeFormat(S,{month:"long"}),[S]),nt=a.useCallback((e,m)=>b?b(e,m):rt.format(new Date(e,m,1)),[rt,b]),ht=nt(j,N),ut=a.useMemo(()=>Array.from({length:12},(e,m)=>({index:m,label:nt(j,m)})),[nt,j]),xt=j-50,gt=j+49,s=Array.from({length:gt-xt+1},(e,m)=>xt+m),d=Array.from({length:24},(e,m)=>m),v=Array.from({length:60},(e,m)=>m);return t.jsxRuntimeExports.jsxs("div",{ref:J,className:n.twMerge(n.clsx("relative text-sm",o?"w-full":"inline-block w-auto",u&&"opacity-60 cursor-not-allowed",i)),children:[t.jsxRuntimeExports.jsx("input",{ref:tt,type:"hidden",name:R,id:L??R,value:w??"",...k}),!x&&t.jsxRuntimeExports.jsxs("button",{type:"button",disabled:u,onClick:()=>!u&&et(e=>!e),className:n.twMerge(n.clsx("flex h-10 w-full items-center justify-between rounded-xl bg-surface-alt px-3 py-2","text-left","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-100","transition-all duration-200",!u&&"cursor-pointer",r&&"bg-red-50 text-red-700 focus-visible:ring-red-100")),children:[t.jsxRuntimeExports.jsx("span",{className:n.clsx("truncate",!w&&"text-text-muted"),children:w?Yt(w):c}),t.jsxRuntimeExports.jsx(vt.Icon,{icon:At,variant:"muted",size:"sm",className:"ml-2"})]}),(H||x)&&!u&&t.jsxRuntimeExports.jsxs("div",{className:n.twMerge(n.clsx(x?"relative w-full rounded-xl bg-transparent shadow-none outline-none":"absolute left-0 z-50 mt-1 w-full rounded-xl bg-surface shadow-lg outline-none","max-h-[80vh] overflow-hidden sm:min-w-[260px] sm:max-w-sm")),children:[t.jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 pt-2 text-xs text-text-muted",children:[t.jsxRuntimeExports.jsx(Z.IconButton,{icon:dt.ChevronLeft,size:"xs",variant:"muted",onClick:ft}),t.jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsxRuntimeExports.jsx("button",{type:"button",className:"rounded px-2 py-1 text-text hover:bg-slate-50",onClick:()=>Y(e=>e==="month"?"day":"month"),children:ht}),t.jsxRuntimeExports.jsx("button",{type:"button",className:"rounded px-2 py-1 text-text-muted hover:bg-slate-50",onClick:()=>Y(e=>e==="year"?"day":"year"),children:j})]}),t.jsxRuntimeExports.jsx(Z.IconButton,{icon:dt.ChevronRight,size:"xs",variant:"muted",onClick:ct})]}),t.jsxRuntimeExports.jsxs("div",{className:"px-3 pb-2 pt-1 text-[11px] text-text-muted",children:[$==="day"&&t.jsxRuntimeExports.jsxs(t.jsxRuntimeExports.Fragment,{children:[t.jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 justify-items-center",children:_.map((e,m)=>t.jsxRuntimeExports.jsx("div",{className:"h-8 w-8 flex items-center justify-center text-xs font-semibold text-text-muted",children:e},`${e}-${m}`))}),t.jsxRuntimeExports.jsx("div",{className:"mt-1 grid grid-cols-7 text-xs justify-items-center",children:st.map((e,m)=>t.jsxRuntimeExports.jsx(a.Fragment,{children:e.map((q,W)=>{if(!q)return t.jsxRuntimeExports.jsx("div",{className:"h-8 w-8"},W);const bt=G&&G.getFullYear()===j&&G.getMonth()===N&&G.getDate()===q;return t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>pt(q),className:n.twMerge(n.clsx("flex h-7 w-7 items-center justify-center rounded-full text-text","transition-colors","hover:bg-slate-50",bt&&"bg-primary-500 text-white hover:bg-primary-500")),children:q},W)})},m))})]}),$==="month"&&t.jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 pt-1 text-xs text-text",children:ut.map(e=>{const m=e.index===N;return t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{M(e.index),Y("day")},className:n.twMerge(n.clsx("rounded-lg px-2 py-2 text-center transition-colors hover:bg-slate-50",m&&"bg-primary-500 text-white hover:bg-primary-500")),children:e.label},e.index)})}),$==="year"&&t.jsxRuntimeExports.jsx(V,{autoHide:!0,direction:"vertical",className:"max-h-56 pt-1 text-xs text-text",children:t.jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 pr-1",children:s.map(e=>{const m=e===j;return t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{E(e),Y("day")},className:n.twMerge(n.clsx("rounded-lg px-2 py-2 text-center transition-colors hover:bg-slate-50",m&&"bg-primary-500 text-white hover:bg-primary-500")),children:e},e)})})}),t.jsxRuntimeExports.jsxs("div",{className:"mt-3 flex flex-col gap-2 pt-1 text-xs text-text",children:[t.jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxRuntimeExports.jsx("span",{className:"shrink-0 text-[11px] text-text-muted",children:I}),t.jsxRuntimeExports.jsx(V,{autoHide:!0,direction:"horizontal",className:"flex-1 overflow-y-hidden rounded-full bg-surface-alt px-2 py-2 text-center text-xs",children:t.jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:d.map(e=>t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>at(e,U),className:n.twMerge(n.clsx("inline-flex h-8 aspect-square items-center justify-center rounded-full text-[11px] transition-colors",e===K?"bg-primary-500 text-white":"hover:bg-slate-50 text-text")),children:String(e).padStart(2,"0")},e))})})]}),t.jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxRuntimeExports.jsx("span",{className:"shrink-0 text-[11px] text-text-muted",children:C}),t.jsxRuntimeExports.jsx(V,{autoHide:!0,direction:"horizontal",className:"flex-1 overflow-y-hidden rounded-full bg-surface-alt px-2 py-2 text-center text-xs",children:t.jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:v.map(e=>t.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>at(K,e),className:n.twMerge(n.clsx("inline-flex h-8 aspect-square items-center justify-center rounded-full text-[11px] transition-colors",e===U?"bg-primary-500 text-white":"hover:bg-slate-50 text-text")),children:String(e).padStart(2,"0")},e))})})]})]})]})]})]})});It.displayName="DatetimePicker";const qt={sm:{track:"h-6 w-12",knob:"h-5 w-5 left-0.5 top-0.5",solidKnob:"h-6 w-6 left-0 top-0",translateDefault:24,translateSolid:24},md:{track:"h-8 w-14",knob:"h-6 w-6 left-1 top-1",solidKnob:"h-8 w-8 left-0 top-0",translateDefault:24,translateSolid:24},lg:{track:"h-10 w-18",knob:"h-8 w-8 left-1.5 top-1.5",solidKnob:"h-10 w-10 left-0 top-0",translateDefault:28,translateSolid:32}},Kt={primary:"bg-primary-500",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"},Ct=a.forwardRef(({className:i,checked:r,defaultChecked:o=!1,disabled:c,onChange:l,label:p,variant:u="primary",size:f="md",innerIcon:y,innerStyle:x="default",...R},L)=>{const S=F.useDispatchAction(),[_,b]=a.useState(o),I=r!==void 0,C=I?r:_,z=()=>{if(c)return;const k=!C;I||b(k),S(F.EventType.UI_CLICK,{value:k},{meta:{component:"Switch"}}),l==null||l(k)},A=qt[f];return t.jsxRuntimeExports.jsxs("div",{className:n.clsx("inline-flex items-center gap-3",i),children:[t.jsxRuntimeExports.jsx("button",{ref:L,type:"button",role:"switch","aria-checked":C,disabled:c,onClick:z,className:n.clsx("relative rounded-full transition-colors duration-200",A.track,C?Kt[u]:"bg-slate-300",c&&"opacity-60 cursor-not-allowed"),...R,children:t.jsxRuntimeExports.jsx("span",{className:n.clsx("absolute rounded-full bg-white shadow-sm transition-transform duration-200 flex items-center justify-center overflow-hidden",x==="solid"?A.solidKnob:A.knob),style:{transform:`translateX(${C?x==="solid"?A.translateSolid:A.translateDefault:0}px)`},children:y&&t.jsxRuntimeExports.jsx(vt.Icon,{icon:y,size:"xs",variant:"default"})})}),p&&t.jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-text",children:p})]})});Ct.displayName="Switch";exports.Button=Et;exports.Calendar=Dt;exports.Checkbox=Nt;exports.DatePicker=St;exports.DatetimePicker=It;exports.Input=Rt;exports.Scroll=V;exports.Select=kt;exports.Switch=Ct;
